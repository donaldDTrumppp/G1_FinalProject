@page
@model Clinic_Management.Pages.PatientAppointment.CreateModel

@{
    ViewData["Title"] = "Create";
}


<div id="verify" style="display: none" class="w-full mx-auto px-4 md:px-6 py-8">
    <div class="flex justify-center ">
        <div class=" mx-auto text-center bg-white px-4 sm:px-8 py-10 rounded-xl shadow">
            <img src="~/Images/otp.png" style="width: 30%; display: flex; margin-left: 40%; justify-content: center" />
            <header class="mb-8">
                <h1 class="text-2xl font-bold mb-1">Mobile Phone Verification</h1>
                <p class="text-[15px] text-slate-500">We have sent your verfication code to <span id="phonenumber" style="font-weight: bold"></span></p>
            </header>
            <form id="otp-form">
                <div class="flex items-center justify-center ">
                    <input type="text" id="verificationCode" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" required />

                </div>
                <div class=" mx-auto mt-4">
                    <button type="button" onclick="codeverify()"
                            class="w-full inline-flex justify-center whitespace-nowrap rounded-lg bg-indigo-500 px-3.5 py-2.5 text-sm font-medium text-white shadow-sm shadow-indigo-950/10 hover:bg-indigo-600 focus:outline-none focus:ring focus:ring-indigo-300 focus-visible:outline-none focus-visible:ring focus-visible:ring-indigo-300 transition-colors duration-150">
                        Verify
                        Code
                    </button>
                </div>
            </form>
            <div class="flex items-center justify-between mt-4">
                <div class="text-sm text-slate-500">Didn't receive code? <button type="button" class="font-medium text-indigo-500 hover:text-indigo-600" onclick="resend()">Resend</button></div>
                <div id="countdown" style="color: blue">03:00</div>
            </div>
            <div class="flex items-start justify-between mt-4">
                <div id="div2" class="flex flex-col items-start justify-start">
                    <span class="text-danger text-red-500 ml-1 mb-2 text-sm font-medium dark:text-white">* Please check the captcha box in order to resend code</span>
                    <!--  <div class="mb-5 w-full" id="recaptcha-container"></div>-->
                </div>

                <div class="flex justify-end">
                    <button onclick="swtch()" class=" ml-2 text-blue-700 border border-blue-700 hover:bg-blue-800 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Back</button>
                </div>
            </div>
        </div>


    </div>
</div>

<div id="toast-success" class="flex hidden animate-[fade-out_2s_ease-out_1s_1_forwards] opacity-1 flex-col fixed z-50 top-5 right-5 items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800" role="alert">
    <div class="flex flex-row items-center justify-between w-full">
        <div class="flex flex-row items-center">
            <div class="inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-green-500 bg-green-100 rounded-lg dark:bg-green-800 dark:text-green-200">
                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z" />
                </svg>
                <span class="sr-only">Check icon</span>
            </div>
            <div class="ms-3 text-sm font-normal">Send OTP successfully. Please check your phone</div>
        </div>
        <div>
            <button type="button" class="ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700" data-dismiss-target="#toast-success" aria-label="Close">
                <span class="sr-only">Close</span>
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                </svg>
            </button>
        </div>
    </div>
    <div class="flex flex-row items-center justify-between w-full">
        <div class="w-full bg-gray-200 rounded-full h-1.5 mb-1 mt-2 dark:bg-gray-700">
            <div id="animateDiv" class="bg-green-400 h-1.5 rounded-full dark:bg-green-300 animate-[reduce_2s_ease-in-out_0s_1_forwards]" style="width: 100%"></div>
        </div>
    </div>
</div>


<div id="toast-danger" class="flex hidden animate-[fade-out_2s_ease-out_1s_1_forwards] opacity-1 flex-col fixed z-50 top-5 right-5 items-center w-full max-w-xs p-4 mb-4 text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800" role="alert">
    <div class="flex flex-row items-center justify-between w-full">
        <div class="flex flex-row items-center">
            <div class="inline-flex items-center justify-center flex-shrink-0 w-8 h-8 text-red-500 bg-red-100 rounded-lg dark:bg-red-800 dark:text-red-200">
                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z" />
                </svg>
                <span class="sr-only">Error icon</span>
            </div>
            <div class="ms-3 text-sm font-normal"><span id="toast-er-message">An error has occured. Please try again</span></div>
        </div>
        <div>
            <button type="button" class="ms-auto -mx-1.5 -my-1.5 bg-white text-gray-400 hover:text-gray-900 rounded-lg focus:ring-2 focus:ring-gray-300 p-1.5 hover:bg-gray-100 inline-flex items-center justify-center h-8 w-8 dark:text-gray-500 dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700" data-dismiss-target="#toast-danger" aria-label="Close">
                <span class="sr-only">Close</span>
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6" />
                </svg>
            </button>
        </div>
    </div>
    <div class="flex flex-row items-center justify-between w-full">
        <div class="w-full bg-gray-200 rounded-full h-1.5 mb-1 mt-2 dark:bg-gray-700">
            <div id="animateDiv1" class="bg-red-400 h-1.5 rounded-full dark:bg-green-300 animate-[reduce_2s_ease-in-out_0s_1_forwards]" style="width: 100%"></div>
        </div>
    </div>

</div>



<div id="notverify" style="display: block">
    <!--<button onclick="swtch2()">Click</button>-->
    <header class="my-6">
        <h3 class="text-center font-semibold uppercase text-gray-300">Basiha Medical - your mom</h3>
        <p class="text-center font-extrabold text-sky-700 tracking-tight text-5xl">Book Appointment</p>
        <h4 class="font-medium text-center text-red-500 mt-1">** Fill all field **</h4>
    </header>



    <form id="form" method="post" class="max-w-2xl mx-auto">
        <!--<div id="toast-top-right" class="fixed flex z-50 items-center w-full max-w-xs p-4 space-x-4 text-gray-500 bg-white divide-x rtl:divide-x-reverse divide-gray-200 rounded-lg shadow fixed top-5 right-5 dark:text-gray-400 dark:divide-gray-700 dark:bg-gray-800" role="alert">-->
        <!-- </div>-->
        <!--
        <div class="main_value">
            <select asp-for="MedicalRecord.AppointmentId" id="apmId" class="hidden" asp-items="ViewBag.AppointmentId"></select>
            <select asp-for="MedicalRecord.PatientId" id="patientId" class="hidden" asp-items="ViewBag.PatientId"></select>
            <select asp-for="MedicalRecord.DoctorId" id="doctorId" class="hidden" asp-items="ViewBag.DoctorId"></select>
        </div>
        <div class="flex justify-between mb-4">
            <button type="button" onclick="abc()" class="text-blue-500 text-md font-semibold">Export to file Word</button>
            <p id="floating_visit_time" class="font-bold text-md-center text-gray-900"></p>
        </div>
        -->
   
        <div class="mb-5">
            <h3 class="text-lg mb-1 text-gray-900 font-bold">Branch</h3>
            <select name="@Html.NameFor(a => a.Appointment.BranchId)" style="font-weight: 450" class=" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500">
                @foreach (var item in Model.Branchs)
                {
                    <option class="border border-gray-300 !text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500" title="@item.BranchName" class="w-full" value="@item.BranchId">@item.BranchName</option>
                }
            </select>
        </div>
        <div>
            <h3 class="text-lg mb-1 text-gray-900 font-bold">Patient Info</h3>
            <div>
                <label for="floating_fname" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                    Full name <span style="color: red">*</span>
                    <span id="erfn" asp-validation-for="Appointment.PatientName" class="text-danger text-red-500 ml-1"></span>

                </label>
                <input required oninput="stopEnterCharacter()" onblur="validate('fullname')" name="@Html.NameFor(a => a.Appointment.PatientName)" type="text" id="floating_fname" aria-label="disabled input" class="mb-5  border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500">

            </div>
            <div class="relative z-0 w-full mb-5 group">
                <label for="floating_address" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                    Address <span style="color: red">*</span>
                    <span id="erad" asp-validation-for="Appointment.PatientAddress" class="text-danger text-red-500 ml-1"></span>
                </label>
                <input required oninput="stopEnterCharacter()" onblur="validate('address')" name="@Html.NameFor(a => a.Appointment.PatientAddress)" type="text" id="floating_address" aria-label="disabled input" class="mb-5  border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500">
            </div>
            <div class="grid md:grid-cols-2 md:gap-6">
                <div class="relative z-0 w-full mb-5 group">
                    <label for="floating_dob" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                        Date of Birth <span style="color: red">*</span>
                        <span id="erdob" asp-validation-for="Appointment.PatientDob" max="@DateTime.Now.ToString("yyyy-MM-ddTHH:mm")" class="text-danger text-red-500 ml-1"></span>
                    </label>
                    <input required onblur="validate('dob')" name="@Html.NameFor(a => a.Appointment.PatientDob)" type="datetime-local" id="floating_dob" aria-label="disabled input" class=" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500">
                </div>
                <div class="relative z-0 w-full mb-5 group">
                    <label for="floating_phone" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                        Phone Number <span style="color: red">*</span>
                        <span id="erpn" asp-validation-for="Appointment.PatientPhoneNumber" class="text-danger text-red-500 ml-1"></span>
                    </label>
                    <input required oninput="stopEnterCharacter()" onblur="validate('phone')" name="@Html.NameFor(a => a.Appointment.PatientPhoneNumber)" type="tel" id="floating_phone" aria-label="disabled input" class=" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500">
                </div>
            </div>
            <div class="relative z-0 w-full mb-5 group">
                <label for="floating_email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
                    Email <span style="color: red">*</span>
                    <span id="ere" asp-validation-for="Appointment.PatientEmail" class="text-danger text-red-500 ml-1"></span>
                </label>
                <input required oninput="stopEnterCharacter()" onblur="validate('email')" name="@Html.NameFor(a => a.Appointment.PatientEmail)" type="email" id="floating_email" aria-label="disabled input" class="mb-5  border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500">
            </div>
        </div>
        <div class="grid md:grid-cols-2 md:gap-6">
            <div class="relative z-0 w-full mb-5 group">
                <h3 class="text-lg mb-1 text-gray-900 font-bold">
                    Requested Date <span style="color: red">*</span>
                    <span id="errt" asp-validation-for="Appointment.RequestedTime" class="text-danger text-red-500 ml-1 mb-2 text-sm font-medium dark:text-white"></span>
                </h3>
                <input required onblur="validate('requestedtime')" name="@Html.NameFor(a => a.Appointment.RequestedTime)" type="date" id="floating_rtime" aria-label="disabled input" value="@(DateTime.Now.ToString("yyyy-MM-ddTHH:mm"))" class=" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500">

            </div>

            <div class="relative z-0 w-full mb-5 group">
                <h3 class="text-lg mb-1 text-gray-900 font-bold">
                    Requested Time <span style="color: red">*</span>
                    <span id="errt" asp-validation-for="Appointment.RequestedTime" class="text-danger text-red-500 ml-1 mb-2 text-sm font-medium dark:text-white"></span>
                </h3>
                <svg class="h-5 w-5 text-black" style="position: absolute;margin-right: 15px;margin-top: 11px;left: 5px;" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <circle cx="12" cy="12" r="9" />
                    <polyline points="12 7 12 12 15 15" />
                </svg>
                <select name="Time" style="font-weight: 450; padding-left: 30px; padding-top: 11px" class=" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500">
                    <option value="7">
                        Shift 1: 07:00 - 08:00
                    </option>
                    <option value="8">Shift 2: 08:00 - 09:00</option>
                    <option value="9">Shift 3: 09:00 - 10:00</option>
                    <option value="10">Shift 4: 10:00 - 11:00</option>
                    <option value="13">Shift 5: 13:00 - 14:00</option>
                    <option value="14">Shift 6: 14:00 - 15:00</option>
                    <option value="15">Shift 7: 15:00 - 16:00</option>
                    <option value="16">Shift 8: 16:00 - 17:00</option>
                </select>
            </div>
        </div>
        <div class="mb-5">
            <h3 class="text-lg mb-1 text-gray-900 font-bold">
                Specialist <span style="color: red">*</span>
            </h3>
            <select name="@Html.NameFor(a => a.Appointment.Specialist)" style="font-weight: 450" class=" border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500">
                @foreach (var item in Model.Specialists)
                {
                    <option class="border border-gray-300 !text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500" title="@item.SpecialistName" class="w-full" value="@item.SpecialistId">@item.SpecialistName</option>
                }
            </select>
        </div>
        <div class="mb-2">
            <h3 class="text-lg mb-1 text-gray-900 font-bold">
                Description <span style="color: red">*</span>
                <span id="erd" asp-validation-for="Appointment.Description" class="text-danger text-red-500 ml-1 mb-2 text-sm font-medium dark:text-white"></span>
            </h3>
            <textarea required oninput="stopEnterCharacter()" onblur="validate('description')" name="@Html.NameFor(a => a.Appointment.Description)" type="text" id="floating_description" aria-label="disabled input" class="border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 cursor-dafault dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"></textarea>

        </div>
        <div class="flex flex-row items-center justify-between">
            <div id="div3">
                <span class="text-danger text-red-500 nml-1 mb-2 text-sm font-medium dark:text-white">* Please check the captcha box</span>
                <div class="mb-5 mt-2 w-full" style="z-index: 10" id="recaptcha-container"></div>
            </div>
            <div class="flex justify-end items-center">
                <div>
                    <a asp-page="./Index" class="ml-2 h-25 text-blue-700  border border-blue-700 hover:bg-blue-800 hover:text-white focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Back</a>
                </div>
                <div>
                    <!--<button type="button" onclick="phoneAuth()" id="btnSubmit" class="ml-2 h-25 cursor-pointer text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Create</button>-->
                    <button type="submit" id="btnSubmit" class="ml-2 h-25 cursor-pointer text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-8 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Create</button>
                </div>
            </div>
        </div>

    </form>
</div>
<script src="./../js/export.js"></script>
<script src="./../js/createjs.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jquery.validate/1.19.2/jquery.validate.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/mvc/5.2.3/jquery.validate.unobtrusive.min.js"></script>

<script src="~/js/otp.js">

</script>

<script type="module">

    import { getAuth } from 'https://www.gstatic.com/firebasejs/10.12.3/firebase-auth.js'
    import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js'        // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
        apiKey: "AIzaSyBRd5bTqtnunUXWwnwpm_VVplkSSBZQt9o",
        authDomain: "basiha-medical-37e74.firebaseapp.com",
        projectId: "basiha-medical-37e74",
        storageBucket: "basiha-medical-37e74.appspot.com",
        messagingSenderId: "541023299159",
        appId: "1:541023299159:web:1b9a60e9bf4146d3b4e512",
        measurementId: "G-VLVQQR9FVH"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);



</script>

<script>



    function sbmit(mode) {
        var url = !window.location.href.includes("&Mde") ? window.location.href + "&Mde=" + mode : window.location.href.replace("&Mde=True", "").replace("&Mde=False", "") + "&Mde=" + mode
        window.location.href = url;
    }

    function stopEnterCharacter() {
        var txtFN = document.getElementById("floating_fname").value;
        var txtAddress = document.getElementById("floating_address").value;
        var txtPhone = document.getElementById("floating_phone").value;
        var txtEmail = document.getElementById("floating_email").value;
        var txtDescription = document.getElementById("floating_description").value;

        var erfn = document.getElementById("erfn");
        var erad = document.getElementById("erad");
        var erdob = document.getElementById("erdob");
        var erpn = document.getElementById("erpn");
        var ere = document.getElementById("ere");
        var errt = document.getElementById("errt");
        var erd = document.getElementById("erd");

        if (txtFN.length >= 30) {
            document.getElementById("floating_fname").value = txtFN.substring(0, 30);
            erfn.innerHTML = "Maximum length of full name is 30";
            document.getElementById("btnSubmit").disabled = true;

            if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
            }
        }
        else {
            erfn.innerHTML = "";
            document.getElementById("btnSubmit").disabled = false;
            document.getElementById("btnSubmit").classList.add("cursor-pointer");
            document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
            document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
        }
        if (txtAddress.length >= 50) {
            document.getElementById("floating_address").value = txtAddress.substring(0, 50);
            erad.innerHTML = "Maximum length of address is 50";
            document.getElementById("btnSubmit").disabled = true;

            if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
            }
        }
        else {
            document.getElementById("btnSubmit").disabled = false;
            erad.innerHTML = "";
            document.getElementById("btnSubmit").classList.add("cursor-pointer");
            document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
            document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
        }
        if (txtPhone.length >= 20) {
            document.getElementById("floating_phone").value = txtPhone.substring(0, 20);
            erpn.innerHTML = "Maximum length of phone is 20";
            document.getElementById("btnSubmit").disabled = true;

            if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
            }
        }
        else {
            document.getElementById("btnSubmit").disabled = false;

            erpn.innerHTML = "";
            document.getElementById("btnSubmit").classList.add("cursor-pointer");
            document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
            document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
        }
        if (txtEmail.length >= 50) {
            document.getElementById("floating_email").value = txtEmail.substring(0, 50);
            ere.innerHTML = "Maximum length of email is 50";
            document.getElementById("btnSubmit").disabled = true;

            if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
            }
        }
        else {
            document.getElementById("btnSubmit").disabled = false;

            ere.innerHTML = "";
            document.getElementById("btnSubmit").classList.add("cursor-pointer");
            document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
            document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
        }
        if (txtDescription.length >= 150) {
            document.getElementById("floating_description").value = txtDescription.substring(0, 150);
            erd.innerHTML = "Maximum length of description is 150";
            document.getElementById("btnSubmit").disabled = true;

            if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
            }
        }
        else {
            document.getElementById("btnSubmit").disabled = false;
            erd.innerHTML = "";
            document.getElementById("btnSubmit").classList.add("cursor-pointer");
            document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
            document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
        }
    }



    function validatePhoneNumber(phone) {
        // Regular expression for validating a Vietnam phone number
        const re = /^(03|05|07|08|09)\d{8}$/;
        return re.test(phone);
    }

    function validateRDate(dateValue) {
        // Get the current date and time
        const now = new Date();
        // Add 30 minutes to the current date and time
        const nowPlus30Minutes = new Date(now.getTime() + 30 * 60000);

        // Convert the input date value to a Date object
        const inputDate = new Date(dateValue);
        // Check if the input date is greater than or equal to the current date plus 30 minutes
        return inputDate >= nowPlus30Minutes;
    }

    function validateDob(dateValue) {
        const now = new Date();
        const inputDate = new Date(dateValue);
        return inputDate <= now;
    }

    function validate(str) {
        var txtFN = document.getElementById("floating_fname").value;
        var txtAddress = document.getElementById("floating_address").value;
        var txtDob = document.getElementById("floating_dob").value;
        var txtPhone = document.getElementById("floating_phone").value;
        var txtEmail = document.getElementById("floating_email").value;
        var txtRtime = document.getElementById("floating_rtime").value;
        var txtDescription = document.getElementById("floating_description").value;

        var erfn = document.getElementById("erfn");
        var erad = document.getElementById("erad");
        var erdob = document.getElementById("erdob");
        var erpn = document.getElementById("erpn");
        var ere = document.getElementById("ere");
        var errt = document.getElementById("errt");
        var erd = document.getElementById("erd");
        switch (str) {
            case "fullname": {
                if (txtFN.length == 0) {
                    erfn.innerHTML = "Full name is required";
                    document.getElementById("btnSubmit").disabled = true;
                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else if (txtFN.length <= 3) {
                    erfn.innerHTML = "Minimum length of full name is 3";
                    document.getElementById("btnSubmit").disabled = true;
                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else {
                    document.getElementById("btnSubmit").disabled = false;

                    erfn.innerHTML = "";
                    document.getElementById("btnSubmit").classList.add("cursor-pointer");
                    document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
                    document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
                }
                break;
            }
            case "address": {
                if (txtAddress.length == 0) {
                    erad.innerHTML = "Address is required";
                    document.getElementById("btnSubmit").disabled = true;
                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else if (txtFN.length <= 3) {
                    erad.innerHTML = "Minimum length of address is 3";
                    document.getElementById("btnSubmit").disabled = true;
                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else {
                    document.getElementById("btnSubmit").disabled = false;

                    erad.innerHTML = "";
                    document.getElementById("btnSubmit").classList.add("cursor-pointer");
                    document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
                    document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
                }
                break;
            }
            case "dob": {
                if (txtDob.length == 0) {
                    erdob.innerHTML = "Date of birth is required";
                    document.getElementById("btnSubmit").disabled = true;

                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else if (!validateDob(txtDob)) {
                    erdob.innerHTML = "You must atleast 1 years old";
                    document.getElementById("btnSubmit").disabled = true;

                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }

                else {
                    document.getElementById("btnSubmit").disabled = false;

                    erdob.innerHTML = "";
                    document.getElementById("btnSubmit").classList.add("cursor-pointer");
                    document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
                    document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
                }
                break;
            }
            case "phone": {
                if (txtPhone.length == 0) {
                    erpn.innerHTML = "Phone is required";
                    document.getElementById("btnSubmit").disabled = true;

                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else if (!validatePhoneNumber(txtPhone)) {
                    erpn.innerHTML = "Wrong format phone number";
                    document.getElementById("btnSubmit").disabled = true;

                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else {
                    document.getElementById("btnSubmit").disabled = false;

                    erpn.innerHTML = "";
                    document.getElementById("btnSubmit").classList.add("cursor-pointer");
                    document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
                    document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
                }
                break;
            }
            case "email": {
                if (txtEmail.length == 0) {
                    ere.innerHTML = "Email is required";
                    document.getElementById("btnSubmit").disabled = true;

                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }

                else {
                    document.getElementById("btnSubmit").disabled = false;

                    ere.innerHTML = "";
                    document.getElementById("btnSubmit").classList.add("cursor-pointer");
                    document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
                    document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
                }
                break;
            }
            case "requestedtime": {
                if (txtRtime.length == 0) {
                    errt.innerHTML = "Requested time is required";
                    document.getElementById("btnSubmit").disabled = true;

                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else if (!validateRDate(txtRtime)) {
                    errt.innerHTML = "Requested time must atleast 30 minutes from now";
                    document.getElementById("btnSubmit").disabled = true;

                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else {
                    document.getElementById("btnSubmit").disabled = false;

                    errt.innerHTML = "";
                    document.getElementById("btnSubmit").classList.add("cursor-pointer");
                    document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
                    document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
                }
                break;
            }
            case "description": {
                if (txtDescription.length == 0) {
                    erd.innerHTML = "Description is required";
                    document.getElementById("btnSubmit").disabled = true;

                    if (document.getElementById("btnSubmit").classList.contains("cursor-pointer") && document.getElementById("btnSubmit").classList.contains("hover:bg-blue-800")) {
                        document.getElementById("btnSubmit").classList.remove("cursor-pointer");
                        document.getElementById("btnSubmit").classList.add("cursor-not-allowed");
                        document.getElementById("btnSubmit").classList.remove("hover:bg-blue-800");
                    }
                }
                else {
                    document.getElementById("btnSubmit").disabled = false;

                    erd.innerHTML = "";
                    document.getElementById("btnSubmit").classList.add("cursor-pointer");
                    document.getElementById("btnSubmit").classList.remove("cursor-not-allowed");
                    document.getElementById("btnSubmit").classList.add("hover:bg-blue-800");
                }
                break;
            }
        }
    }


</script>


<script>
    /*
    let timeInMinutes = 0.5;
    let timeInSeconds = timeInMinutes * 60;
    const countdownElement = document.getElementById('countdown');

    const updateCountdown = () => {
        const minutes = Math.floor(timeInSeconds / 60);
        const seconds = timeInSeconds % 60;

        countdownElement.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

        if (timeInSeconds > 0) {
            timeInSeconds--;
        } else {
            clearInterval(countdownInterval);
            countdownElement.style.color = "red";
        }
    };

    const countdownInterval = setInterval(updateCountdown, 1000);
    */
</script>

